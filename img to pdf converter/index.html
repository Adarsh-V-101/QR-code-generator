<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Image to PDF Converter</title>
    <link rel="stylesheet" href="style.css">        
</head>
<body>
    <div class="container">
        <h2>Convert Images to PDF</h2>
        <input type="file" id="imageInput" accept="image/*" multiple>
        <br>
        <button id="convertBtn">Convert to PDF</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.1/jspdf.umd.min.js"></script>
    <script>
        const { jsPDF } = window.jspdf;

        document.getElementById('convertBtn').addEventListener('click', async () => {
            const input = document.getElementById('imageInput');
            const files = input.files;
            if (!files.length) {
                alert('Please select at least one image.');
                return;
            }

            const pdf = new jsPDF();

            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const imgData = await readFileAsDataURL(file);

                const img = new Image();
                img.src = imgData;
                await new Promise(resolve => img.onload = resolve);

                const pageWidth = pdf.internal.pageSize.getWidth();
                const pageHeight = pdf.internal.pageSize.getHeight();

                // Calculate image dimensions to fit page
                let imgWidth = img.width;
                let imgHeight = img.height;
                const ratio = Math.min(pageWidth / imgWidth, pageHeight / imgHeight, 1);
                imgWidth *= ratio;
                imgHeight *= ratio;

                if (i > 0) pdf.addPage();
                pdf.addImage(img, 'JPEG', (pageWidth - imgWidth) / 2, (pageHeight - imgHeight) / 2, imgWidth, imgHeight);
            }

            pdf.save('images.pdf');
        });

        function readFileAsDataURL(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = e => resolve(e.target.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }
    </script>
</body>
</html>